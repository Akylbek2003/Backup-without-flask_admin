{% extends "base.html" %}

{% block title %}Раздел "Хирургам"{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Раздел "Хирургам"</h1>

    <ul class="nav nav-tabs" id="surgeonsTabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="publications-tab" data-bs-toggle="tab" href="#publications" role="tab">Публикации</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="events-tab" data-bs-toggle="tab" href="#events" role="tab">Мероприятия</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="docs-tab" data-bs-toggle="tab" href="#docs" role="tab">Документы</a>
        </li>
    </ul>

    <div class="tab-content mt-3" id="surgeonsTabsContent">

        <div class="tab-pane fade show active" id="publications" role="tabpanel">
            <h2>База научных публикаций</h2>
            <ul class="list-group mt-3">
                {% for pub in publications %}
                    <li class="list-group-item">
                        <strong>{{ pub.title }}</strong><br>
                        <em>{{ pub.authors }}</em><br>
                        <a href="{{ url_for('static', filename='uploads/publications/' ~ pub.file_path) }}" download>Скачать</a>
                    </li>
                {% endfor %}
            </ul>
        </div>

        <div class="tab-pane fade" id="events" role="tabpanel">
            <h2>Календарь мероприятий</h2>
            <ul class="list-group">
                {% for event in events %}
                    <li class="list-group-item">
                        <strong>{{ event.name }}</strong><br>
                        <small>{{ event.date }} — {{ event.location }}</small>
                    </li>
                {% else %}
                    <li class="list-group-item">Нет запланированных мероприятий.</li>
                {% endfor %}
            </ul>
        </div>

        <div class="tab-pane fade" id="docs" role="tabpanel">
            <h2>Документы для специалистов</h2>
            <ul class="list-group">
                {% for doc in documents %}
                    <li class="list-group-item">
                        <a href="{{ url_for('download_document', filename=doc.filename) }}" download>
                            {{ doc.title if doc.title else doc.filename }}
                        </a>
                    </li>
                {% else %}
                    <li class="list-group-item">Документы отсутствуют.</li>
                {% endfor %}
            </ul>
        </div>

    </div>
</div>
{% endblock %}
